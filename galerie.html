<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Les réalisations Mathieu Verbrugghe</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  </head>
<body>
    <header class="header-area">  
      
      <div class="navbar-area">
        <div class="container">
            <nav class="site-navbar">
                <a href="index.html" class="site-logo">
                    <img src="assets/logo-mv.png" alt="" style="height: 60px;">
                    <p style="margin: 0; padding: 0; color: var(--secondary);">Mathieu <span>VERBRUGGHE</span></p></a>
                <ul>
                    <li><a href="galerie.html">Galerie</a></li>
                    <!-- <li><a href="#">A propos</a></li> -->
                    <li><a href="tel:+33612345678" class="btn-nav-a"><img src="assets/phone.png" style="width: 150px; border-radius: 100px;" alt=""></a></li>
                </ul>
                <button class="nav-toggler">
                    <span></span>
                </button>
            </nav>
        </div>
    </div>

        <div class="intro-galerie-area">        
        <div class="container" style="position: relative; height: 100%; display: flex; flex-flow: column; align-items: center; text-align: center; justify-content: center;">
            <div class="back-menu" data-aos="fade-right" data-aos-delay="100"><a href="index.html">
                <img src="assets/chevron.png" style="width: 20px;" alt="">
                Accueil
            </a></div>
            <h1 data-aos="fade-up" data-aos-delay="100">Mes réalisations</h1>
        </div>
        </div>
    </header>


    <div class="container">
        <center>
        <div class="wrapper" style="display: none;">
            <div class="chevron"><img src="assets/montay.png" id="left" alt=""></div>
            <ul class="tabs-box"> 
                <li class="tab active">Tout voir</li>
                <li class="tab" data-category="1">Charpentes</li>
                <li class="tab" data-category="2">Couvertures</li>
                <li class="tab" data-category="3">Bardage</li>
                <li class="tab" data-category="4">Démoussage</li>
                <li class="tab" data-category="5">Maçonnerie</li>
                <li class="tab" data-category="6">Autres travaux</li>
            </ul>
            <div class="chevron"><img src="assets/montay.png" id="right" alt=""></div>
        </div>
        </center>

        <h2 class="realisation-titre" data-aos="fade-right" data-aos-delay="500"></h2>

        <div id="prestations-grid" class="grid-container"></div>

    </div>

    <footer class="site-footer">
      <div class="footer-inner">
    
        <!-- Gauche -->
        <div class="footer-left">
          <div class="footer-title">
            Mathieu Verbrugghe Couvreur Zingueur Charpentier
          </div>
          <a href="mentions-legales.html" class="footer-legal">
            Mentions légales
          </a>
        </div>
    
        <!-- Droite -->
        <div class="footer-right">
          <div class="footer-social">
            Suivez moi sur Facebook :
            <a href="https://facebook.com/tonprofil" target="_blank" class="facebook-icon" aria-label="Facebook">
              <img src="assets/facebook.png" alt="facebook" style="width: 20px;">
            </a>
          </div>
    
          <div class="footer-phone">
            Téléphone : <a href="tel:+33625252525">06.25.25.25.25</a>
          </div>
        </div>
    
      </div>
    </footer>
    

<script>
  const tabsBox = document.querySelector(".tabs-box"),
  allTabs = tabsBox.querySelectorAll(".tab"),
  arrowchevrons = document.querySelectorAll(".chevron img");
  title = document.querySelector(".realisation-titre");

  title.innerHTML = "Toutes les réalisations";

  const prestationsGrid = document.getElementById("prestations-grid");

  const prestations = [
    // ===== Charpentes (1) =====
    // ===== Couvertures (2) =====
    // ===== Bardage (3) =====
    // ===== Démoussage (4) =====
    // ===== Maçonnerie (5) =====
    // ===== Autres travaux (6) =====
    {
      id: 1,
      categorie: "1",
      titre: "Charpente traditionnelle",
      date: "2025-12-10",
      ville: "Lille",
      description: "Réalisation complète d’une charpente traditionnelle à l'aide d'une épure au sol.",
      photo_1: "assets/prestation/charpente-1/photo4.jpg",
      photo_2: "assets/prestation/charpente-1/photo1.jpg",
      photo_3: "assets/prestation/charpente-1/photo2.jpg",
      photo_4: "assets/prestation/charpente-1/photo3.jpg"
    },
    {
      id: 2,
      categorie: "6",
      titre: "Extension complète",
      date: "2025-08-23",
      ville: "Marcoing",
      description: "Création d’une extension complète : <br> -Fondation <br> -Dalle béton <br> -Maçonnerie parpaing <br> -Maçonnerie anciennes briques <br> -Rejointoiement de l\’extension et de la maison <br> -Pose de la charpente <br> -Pose de la toiture.",
      photo_1: "assets/prestation/extension-marcoing/photo4.jpg",
      photo_2: "assets/prestation/extension-marcoing/photo1.jpg",
      photo_3: "assets/prestation/extension-marcoing/photo2.jpg",
      photo_4: "assets/prestation/extension-marcoing/photo3.jpg"
    },
    {
      id: 3,
      categorie: "1",
      titre: "Gouttière en zinc",
      date: "2025-08-10",
      ville: "Lille",
      description: "Remplacement de la gouttière par chêneaux façonné en zinc.",
      photo_1: "assets/prestation/gouttiere/photo3.jpg",
      photo_2: "assets/prestation/gouttiere/photo1.jpg",
      photo_3: "assets/prestation/gouttiere/photo2.jpg",
      photo_4: null
    },
    {
      id: 4,
      categorie: "6",
      titre: "Rive en zinc",
      date: "2025-08-10",
      ville: "Marcoing",
      description: "Façonnage et pose de rive en zinc en pointe de diamant",
      photo_1: "assets/prestation/faconnage-zinc/photo1.jpg",
      photo_2: "assets/prestation/faconnage-zinc/photo2.jpg",
      photo_3: null,
      photo_4: null
    },{
      id: 5,
      categorie: "1",
      titre: "Création d'une lucarne",
      date: "2025-12-10",
      ville: "Lille",
      description: "Création de lucarne en bois, recouverte d’un zinc prepatiné et d’ardoises.",
      photo_1: "assets/prestation/lucarne-bois/photo1.jpg",
      photo_2: "assets/prestation/lucarne-bois/photo2.jpg",
      photo_3: null,
      photo_4: null
    },
    {
      id: 6,
      categorie: "6",
      titre: "Couverture en zinc",
      date: "2025-08-10",
      ville: "Marcoing",
      description: "Réalisation d’une couverture à tasseaux en zinc.",
      photo_1: "assets/prestation/couverture-zinc/photo2.jpg",
      photo_2: "assets/prestation/couverture-zinc/photo1.jpg",
      photo_3: "assets/prestation/couverture-zinc/photo3.jpg",
      photo_4: null
    },
  ];

  // =========================
  // FONCTION DE RENDU
  // =========================
  function createPrestationsGrid(prestations) {
    prestationsGrid.innerHTML = "";

    if (prestations.length > 0) {
      prestations.forEach((prestation) => {
        const prestationDiv = document.createElement("div");
        prestationDiv.classList.add("prestation-item");

        const dateAFormater = new Date(prestation.date);
        const carouselId = `carousel-prestation-${prestation.id}`;
        const date = dateAFormater.toLocaleDateString('fr-FR', {
          day: '2-digit', month: 'long', year: 'numeric'
        });

        prestationDiv.innerHTML = `
          <div class="grid-item" data-toggle="modal" data-target="#modal-prestation-${prestation.id}">
            <div class="image-prestation" style="background-image: url('${prestation.photo_1}');" alt="${prestation.titre}"></div>
            <p class="titre-prestation">${prestation.titre}</p>
          </div>

          <div class="modal fade" id="modal-prestation-${prestation.id}" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg">
              <div class="modal-content">
                <div class="modal-body">
                  <div class="modal-prestation-content">
                    <div id="${carouselId}" class='carousel slide' data-ride='carousel'>
                      <div class='carousel-inner'>
                        <div class='carousel-item active'>
                          <div class='img-size' style="background-image: url('${prestation.photo_1}');"></div>
                        </div>
                        ${prestation.photo_2 ? `
                        <div class='carousel-item'>
                          <div class='img-size' style="background-image: url('${prestation.photo_2}');"></div>
                        </div>` : ``}
                        ${prestation.photo_3 ? `
                        <div class='carousel-item'>
                          <div class='img-size' style="background-image: url('${prestation.photo_3}');"></div>
                        </div>` : ``}
                        ${prestation.photo_4 ? `
                        <div class='carousel-item'>
                          <div class='img-size' style="background-image: url('${prestation.photo_4}');"></div>
                        </div>` : ``}
                      </div>

                      ${prestation.photo_2 ? `
                      <a class="carousel-control-prev" href="#${carouselId}" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                      </a>
                      <a class="carousel-control-next" href="#${carouselId}" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                      </a>
                      ` : ``}
                    </div>

                    <div class="prestation-content">
                      <button type="button" class="close" data-dismiss="modal">
                        <span>&times;</span>
                      </button>
                      <h3>${prestation.titre}</h3>
                      <b style="font-style: italic;">${date} • ${prestation.ville}</b><br><br>
                      <p>${prestation.description}</p>              
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `;

        prestationsGrid.appendChild(prestationDiv);
      });
    } else {
      prestationsGrid.innerHTML = `<p style="height:60vh;">Pas encore de réalisations disponible pour cette catégorie.</p>`;
    }
  }

  // Affichage initial
  createPrestationsGrid(prestations);

let isDragging = false;

const handlechevrons = (scrollVal) => {
  let maxScrollableWidth = tabsBox.scrollWidth - tabsBox.clientWidth;
  arrowchevrons[0].parentElement.style.display = scrollVal <= 0 ? "none" : "flex";
  arrowchevrons[1].parentElement.style.display =
    maxScrollableWidth - scrollVal <= 1 ? "none" : "flex";
};

arrowchevrons.forEach((chevron) => {
  chevron.addEventListener("click", () => {
    // if clicked chevron is left, reduce 350 from tabsBox scrollLeft else add
    let scrollWidth = (tabsBox.scrollLeft += chevron.id === "left" ? -120 : 120);
    handlechevrons(scrollWidth);
  });
});

allTabs.forEach((tab) => {
  tab.addEventListener("click", () => {
    const selectedCategory = tab.getAttribute("data-category");

    if(selectedCategory){    
        // Filtrer les prestations en fonction de la catégorie sélectionnée
        const prestationsFiltrees = prestations.filter((prestation) => {
        return prestation.categorie === selectedCategory;
        });
        
        // Appelle la fonction pour créer la grille de prestations avec les données triées
        createPrestationsGrid(prestationsFiltrees);
    } else {
        createPrestationsGrid(prestations);
    }

    if(tabsBox.querySelector(".active")){
        tabsBox.querySelector(".active").classList.remove("active");
    }
    tab.classList.add("active");
    if(tab.innerHTML == 'Tout voir'){
        title.innerHTML = 'Toutes les réalisations';
    } else {
        title.innerHTML = tab.innerHTML;
    }
  });
});

const dragging = (e) => {
  if (!isDragging) return;
  tabsBox.classList.add("dragging");
  tabsBox.scrollLeft -= e.movementX;
  handlechevrons(tabsBox.scrollLeft);
};

const dragStop = () => {
  isDragging = false;
  tabsBox.classList.remove("dragging");
};

tabsBox.addEventListener("mousedown", () => (isDragging = true));
tabsBox.addEventListener("mousemove", dragging);
document.addEventListener("mouseup", dragStop);

// Initialisation du carousel pour chaque modal
$('.modal').on('shown.bs.modal', function () {
  $(this).find('.carousel').carousel();
});


</script>

<style>
.wrapper {
  max-width: 1100px;
  padding: 15px;
  position: relative;
  overflow-x: hidden;
  border-radius: 13px;
}
.wrapper .chevron {
  position: absolute;
  top: 0;
  height: 100%;
  width: 120px;
  display: flex;
  align-items: center;
}
.chevron:first-child {
  left: 0;
  display: none;
  background: linear-gradient(90deg, #ffffff 50%, transparent);
}
.chevron:last-child {
  right: 0;
  justify-content: flex-end;
  background: linear-gradient(-90deg, #ffffff 50%, transparent);
}
.chevron img {
  width: 30px;
  height: 30px;
  cursor: pointer;
  font-size: 1.2rem;
  text-align: center;
  line-height: 30px;
  border-radius: 50%;
  color: #fff;
}
.chevron img:hover {
  color: #212121;
  background: #efedfb;
}
.chevron:first-child img {
  margin-left: 15px;
}
.chevron:last-child img {
  margin-right: 15px;
}
.wrapper .tabs-box {
  display: flex;
  gap: 12px;
  list-style: none;
  overflow-x: hidden;
  scroll-behavior: smooth;
  margin-bottom: 0;
}
.tabs-box.dragging {
  scroll-behavior: auto;
  cursor: grab;
}
.tabs-box .tab {
  cursor: pointer;
  font-size: 1rem;
  white-space: nowrap;
  background: white;
  padding: 5px 15px;
  border-radius: 30px;
  border: 1px solid var(--secondary);
  user-select: none;
}
.tabs-box .tab:hover {
  background: #fafafa;
}
.tabs-box.dragging .tab {
  user-select: none;
  pointer-events: none;
}
.tabs-box .tab.active {
  color: #fff;
  background: var(--secondary);
  border-color: transparent;
}

.realisation-titre {
    font-weight: bold;
    font-size: 22px;
    /*margin-top: 1rem;*/
    margin-top: 3rem;
    margin-bottom: 3rem;
}


.image-prestation {
  width: 280px; height: 280px; background-position: center; background-size: cover;
}

.titre-prestation {
  padding-top: 10px; width: 280px; text-align: center; margin-bottom: 0; padding-bottom: 0;
}

.grid-container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  grid-gap: 1.8vw;
  max-width: 100%;
  margin: 0 auto;
}

.grid-item {
  flex: 0 1 calc(25% - 20px);
  margin-bottom: 20px;
  background-color: #fafafa;
  border: 1px solid #ddd;
  padding: 20px;
  min-height: 380px;
  box-sizing: border-box;
  text-align: center;
  cursor: pointer;
}


.carousel-inner {  
  background-color: #232323;  
  border-top-left-radius: 12px;
  border-bottom-left-radius: 12px;
  width: 600px;
}

.carousel-item {
  transition: transform .3s ease-in-out!important;
}

.img-size{
  width: 600px;
  height: 600px;
  background-position: center; background-size: contain; background-repeat: no-repeat;
}

.modal-body {
  padding: 0;
}

.modal-content {
  border-radius: 12px;
  position: relative;
}

.modal-lg {  
  max-width: 1000px;  
}

.modal-prestation-content {
  display: flex;
  justify-content: space-between;
  flex-flow: row;
}

.prestation-content {
  background-color: white;
  width: 400px;
  border-top-right-radius: 12px;
  border-bottom-right-radius: 12px;
  padding: 40px 20px;
}

.close {
  border: none;
  width: 26px;
  height: 26px;
  border-radius: 100px;
  color: white;
  background-color: #505050;
  position: absolute;
  top: 10px;
  right: 10px;
  z-index: 10;
}

ul {
  padding-left: 0;
}


@media (max-width: 768px) {
  .grid-item {
    flex: 0 1 calc(100% - 20px);
    min-width: 300px;
    min-height: 340px;
    margin-right: 0;
    margin-bottom: 20px;
  }
  .image-prestation {
    min-width: 300px;
  }
  .titre-prestation {
    min-width: 300px;
  }

  .grid-container {
  padding: 0;
}

  
.modal-prestation-content {
  display: flex;
  justify-content: space-between;
  flex-flow: column;
}

.prestation-content {
  background-color: white;
  width: 100%;
  border-bottom-right-radius: 12px;
  border-bottom-left-radius: 12px;
  padding: 20px;
}

.carousel-inner {  
  background-color: #232323;  
  border-top-left-radius: 12px;
  border-top-right-radius: 12px;
  border-bottom-left-radius: 0;
  width: 100%;
}

.img-size{
  width: 100%;
  height: 60vh;
}

.modal-dialog {
  height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.close {
  width: 50px;
  height: 50px;
}

.close span {
  font-size: 35px;
}

}



@media (max-width: 500px) {
  .grid-item {
    flex: 0 1 calc(100% - 20px);
    min-width: 100%;
    min-height: 340px;
    margin-right: 0;
    margin-bottom: 20px;
  }
  .image-prestation {
    min-width: 100%;
  }
  .titre-prestation {
    min-width: 100%;
  }

  .grid-container {
    width: 100%;
    display: flex;
    justify-content: center;
  }
}

</style>


















  <script>
const navToggler = document.querySelector('.nav-toggler');
const navMenu = document.querySelector('.site-navbar ul');
const navLinks = document.querySelectorAll('.site-navbar a');

allEventListners();

function allEventListners() {
  navToggler.addEventListener('click', togglerClick);
  navLinks.forEach( elem => elem.addEventListener('click', navLinkClick));
}

function togglerClick() {
  navToggler.classList.toggle('toggler-open');
  navMenu.classList.toggle('open');
}

function navLinkClick() {
  if(navMenu.classList.contains('open')) {
    navToggler.click();
  }
}
  </script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
      AOS.init();
    </script>

</body>
</html>